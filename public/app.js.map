{"version":3,"sources":["app/components/App.jsx","app/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjIA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAAA","file":"public/app.js","sourcesContent":["'use strict';\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar socket = io();\n\nvar App = _react2.default.createClass({\n  displayName: 'App',\n  getInitialState: function getInitialState() {\n    return { tracks: [] };\n  },\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    socket.on('hello', function (tracks) {\n      _this.setState({ connected: true, tracks: tracks });\n    });\n    socket.on('new song', function (track) {\n      var tracks = _this.state.tracks;\n      tracks.push(track);\n      _this.setState({ tracks: tracks });\n    });\n    socket.on('upvote', function (msg) {});\n    socket.on('downvote', function (msg) {});\n    socket.on('err', function (error) {\n      _this.setState({ error: error });\n    });\n  },\n  render: function render() {\n    var tracks = this.state.tracks.map(function (song, index) {\n      return _react2.default.createElement(Track, { key: index, data: song, pos: index });\n    });\n    var error = void 0;\n    if (this.state.error) {\n      error = _react2.default.createElement(Error, { msg: this.state.error });\n    }\n    return _react2.default.createElement(\n      'div',\n      { id: 'content' },\n      tracks,\n      error,\n      _react2.default.createElement(AddTrack, null)\n    );\n  }\n});\n\nvar Track = _react2.default.createClass({\n  displayName: 'Track',\n  render: function render() {\n    var snippet = this.props.data.items[0].snippet;\n    var title = snippet.title;\n    var votes = this.props.data.votes || 0;\n    var thumb = snippet.thumbnails.medium.url;\n    return _react2.default.createElement(\n      'div',\n      null,\n      _react2.default.createElement('img', { src: thumb, alt: '' }),\n      title,\n      ' ',\n      _react2.default.createElement(\n        'span',\n        null,\n        _react2.default.createElement(\n          'button',\n          { onClick: this.upvote },\n          '+'\n        ),\n        ' ',\n        votes,\n        ' ',\n        _react2.default.createElement(\n          'button',\n          null,\n          '-'\n        ),\n        ' '\n      )\n    );\n  },\n  upvote: function upvote() {\n    socket.emit('upvote', this.props.pos);\n  }\n});\n\nvar AddTrack = _react2.default.createClass({\n  displayName: 'AddTrack',\n  send: function send(e) {\n    e.preventDefault();\n    socket.emit('new song', this._input.value);\n  },\n  render: function render() {\n    var _this2 = this;\n\n    return _react2.default.createElement(\n      'div',\n      null,\n      _react2.default.createElement(\n        'form',\n        { onSubmit: this.send },\n        _react2.default.createElement('input', { type: 'text', ref: function ref(_ref) {\n            return _this2._input = _ref;\n          } }),\n        _react2.default.createElement(\n          'button',\n          null,\n          'Send'\n        )\n      )\n    );\n  }\n});\n\nvar Error = _react2.default.createClass({\n  displayName: 'Error',\n  render: function render() {\n    return _react2.default.createElement(\n      'div',\n      null,\n      '/!\\\\ ',\n      this.props.msg\n    );\n  }\n});\n\nmodule.exports = { App: App };\n","'use strict';\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar App = require('components/App').App;\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  _reactDom2.default.render(_react2.default.createElement(App, null), document.querySelector('#app'));\n});\n"]}